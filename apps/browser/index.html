<script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.12.2/react.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.12.2/JSXTransformer.js" type="text/javascript"></script>
<script src="https://code.jquery.com/jquery-2.1.3.min.js" type="text/javascript"></script>
<script type="text/jsx">
	/** @jsx React.DOM */
	'use strict';

	var Browser = React.createClass({
		getInitialState: function() {
			return {
				text: 'http://google.com'
			};
		},
		componentDidMount: function() {
			this.refs.frame.getDOMNode().setAttribute('nwdisable', '');
			this.refs.frame.getDOMNode().setAttribute('nwfaketop', '');
		},
		render: function() {
			return (
				<div className="browser">
					<div className="address-bar">
						<input value={this.state.text} onChange={this.handleChange} />
						<button onClick={this.handleClick}>Go</button>
					</div>

					<div className="web-view">
						<iframe src={this.state.text} ref="frame" width="100%" height="100%" />
					</div>
				</div>
			);
		},

		handleChange: function(e) {
			this.setState({
				text: e.target.value
			});
		},

		handleClick: function(e) {
			e.preventDefault();

			var url = this.state.text.toString();
			var el = this.refs.frame.getDOMNode();
			el.setAttribute('src', url);

		}
	});


	// Browser.render();
	React.render(<Browser />, document.body);
	// module.exports = Browser;

</script>
